[
 {
  "allow_guest": 0,
  "api_method": null,
  "disabled": 0,
  "docstatus": 0,
  "doctype": "Server Script",
  "doctype_event": "After Save",
  "event_frequency": "All",
  "modified": "2021-11-11 21:41:02.368479",
  "name": "update_individual_supplier_details",
  "parent": null,
  "parentfield": null,
  "parenttype": null,
  "reference_doctype": "Address",
  "script": "for row in doc.links:\n        if row.link_doctype==\"Supplier\":\n            parent_supplier=frappe.db.get_value('Supplier',{'name':row.link_name},'parent_supplier')\n            if parent_supplier:\n                supplier_doc=frappe.get_doc('Supplier',parent_supplier)\n                if not frappe.get_list(\"Individual Supplier Details\",{'supplier_name':row.link_name}):\n                    supplier_doc = supplier_doc.append('individual_supplier_details', {\n                        'supplier_name':row.link_name,\n                        'supplier_code':row.link_title,\n                        'primary_address':doc.name\n                    })\n                    supplier_doc.save()\n                else:\n                    doc_name=frappe.db.get_value('Individual Supplier Details',{'supplier_name':row.link_name},'name')\n                    isd_doc=frappe.get_doc('Individual Supplier Details',doc_name)\n                    isd_doc.update({\n                        'primary_address':doc.name\n                    })",
  "script_type": "DocType Event"
 }
]